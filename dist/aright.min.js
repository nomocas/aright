!function(){"use strict";function n(n,t,e,r,u){return u&&r&&(u+="."),u=r?u+r:u,u||(u="."),n.valid=!1,(n[u]=n[u]||[]).push({msg:i(t)||"missing error message",value:r?e[r]:e}),!1}function t(t){return function(){return this.exec("this",function(e,i){return typeof e!==t?n(this,t,e,null,i):!0})}}function e(t){return function(e,i){return this.exec(e,function(r,u){return"undefined"==typeof r[e]?i&&i.required===!1?!0:n(this,"missing",r,e,u):typeof r[e]!==t?n(this,t,r,e,u):i?i.call(this,r[e],u?u+"."+e:e):!0})}}var i=function(n,t){var e=i.languages[t||i.currentLanguage];return e[n]};i.currentLanguage="fr",i.languages={fr:{string:"ceci n'est pas une string.",object:"ceci n'est pas un objet.",array:"ceci n'est pas une array.","boolean":"ceci n'est pas un bool.",number:"ceci n'est pas un nombre.","enum":"enumerable non respecté.","null":"devrait être null.",email:"email invalide.",phone:"téléphone invalide.",unvalidated:"propriété non prévue.",missing:"propriété manquante.",minLength:"trop court",maxLength:"trop long",minimum:"trop petit",maximum:"trop grand"}};var r={email:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/gi,phone:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/gi},u=function(){this._rules={}};u.prototype={validate:function(n){var t={valid:!0};return this.call(t,n,""),t.valid?!0:t},call:function(t,e,i){var r=!0;if(this.required!==!1&&"undefined"==typeof e)return n(t,"missing",e,null,i);if(this._rules["this"]&&this._rules["this"].forEach(function(n){r=r&&n.call(t,e,i)}),!r)return!1;if("object"!=typeof e||e.forEach)return r;var u,s={};for(u in e)s[u]=!0;for(u in this._rules){if("this"===u)continue;var o=this._rules[u].call(t,e,i);s[u]=!1,r=r&&o}for(u in s)s[u]&&(r=n(t,"unvalidated",e,u,i));return r},exec:function(n,t){return"string"==typeof t&&(t=o[t]),"this"===n?(this._rules[n]=this._rules[n]||[]).push(t):this._rules[n]=t,this},rule:function(n,t){return t||(t=n,n=null),"string"==typeof t&&(t=o[t]),this.exec(n||"this",function(e,i){return e=n?e[n]:e,n&&(i=i?i+"."+n:n),t.call(this,e,i)})},required:function(n){return this.required=n,this},minLength:function(t){return this.exec("this",function(e,i){return e.length<t?n(this,"minLength",e,null,i):!0})},maxLength:function(t){return this.exec("this",function(e,i){return e.length>t?n(this,"maxLength",e,null,i):!0})},minimum:function(t){return this.exec("this",function(e,i){return t>e?n(this,"minimum",e,null,i):!0})},maximum:function(t){return this.exec("this",function(e,i){return e>t?n(this,"maximum",e,null,i):!0})},format:function(t){return"string"==typeof t&&(t=r[t]),this.exec("this",function(e,i){return t.test(e)?!0:n(this,"format",e,null,i)})},enumerable:function(t){return this.exec("this",function(e,i){return-1===t.indexOf(e)?n(this,"enum",e,null,i):!0})},isObject:t("object"),object:e("object"),isString:t("string"),string:e("string"),func:e("function"),bool:e("boolean"),number:e("number"),isArray:function(){return this.exec("this",function(t,e){return"object"==typeof t||t.forEach?!0:n(this,"array",t,null,e)})},isNull:function(){return this.exec("this",function(t,e){return null!==t?n(this,"null",t,null,e):!0})},"null":function(t){return this.exec(t,function(e,i){return null!==e[t]?n(this,"null",e,t,i):!0})},array:function(t,e){return this.exec(t,function(i,r){return"undefined"==typeof i[t]?e&&e.required===!1?!0:n(this,"missing",i,t,r):"object"==typeof i[t]||i[t].forEach?e?e.call(this,i[t],r?r+"."+t:t):!0:n(this,"array",i,t,r)})},item:function(n){return this.exec("this",function(t,e){var i=this,r=0,u=!0;return t.forEach(function(t){u=u&&n.call(i,t,e+"."+r++)}),u})}};var s=function(){return new u},o={email:s().isString().format("email").minLength(6),phone:s().isString().format("phone").minLength(8),address:s().isObject().string("street").string("city")},c={v:s,Validator:u,rules:o,i18n:i,formats:r};"undefined"!=typeof module&&module.exports?module.exports=c:this.aright=c}();